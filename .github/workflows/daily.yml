name: Daily arXiv Fetch

on:
  schedule:
    # æ¯å¤©UTC 6:00è¿è¡Œï¼ˆåŒ—äº¬æ—¶é—´14:00ï¼‰
    - cron: '0 6 * * *'
  # å…è®¸æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:

jobs:
  fetch:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
    
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
    
    - name: Run fetch script
      run: |
        python fetch_papers.py
        echo "ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶:"
        ls -la *.tex
    
    - name: Upload generated files
      uses: actions/upload-artifact@v4
      with:
        name: arxiv-papers
        path: |
          arxiv_*.tex
          latest.tex
        retention-days: 7
    
    - name: Show success message
      run: |
        echo "âœ… arXivè®ºæ–‡è·å–å®Œæˆï¼"
        echo "ğŸ“„ ç”Ÿæˆçš„TeXæ–‡ä»¶å¯ä»¥åœ¨Artifactsä¸­ä¸‹è½½ã€‚"
        echo "â° ä¸‹æ¬¡è¿è¡Œæ—¶é—´ï¼šæ˜å¤©UTC 6:00ï¼ˆåŒ—äº¬æ—¶é—´14:00ï¼‰"
